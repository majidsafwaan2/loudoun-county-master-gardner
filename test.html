<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loudoun County Master Gardeners - Test Suite</title>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: #f8f9fa;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #2E7D32;
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
        }
        .test-section h2 {
            color: #333;
            margin-top: 0;
        }
        .test-button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
        }
        .test-button:hover {
            background: #2E7D32;
        }
        .result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 6px;
            font-weight: 500;
        }
        .result.pass {
            background: #e8f5e8;
            color: #2E7D32;
            border: 1px solid #4CAF50;
        }
        .result.fail {
            background: #ffebee;
            color: #c62828;
            border: 1px solid #f44336;
        }
        .result.info {
            background: #e3f2fd;
            color: #1565c0;
            border: 1px solid #2196f3;
        }
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .test-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #4CAF50;
        }
        .test-card h3 {
            margin-top: 0;
            color: #333;
        }
        .run-all-btn {
            background: #2E7D32;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin: 20px 0;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        .run-all-btn:hover {
            background: #1B5E20;
        }
        .summary {
            background: #e8f5e8;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
        }
        .summary h3 {
            margin-top: 0;
            color: #2E7D32;
        }
        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .stat-item {
            text-align: center;
            padding: 15px;
            background: white;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #2E7D32;
        }
        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŒ± Loudoun County Master Gardeners - Test Suite</h1>
        
        <div class="test-section">
            <h2>Test Controls</h2>
            <button class="run-all-btn" onclick="runAllTests()">Run All Tests</button>
        </div>

        <div class="test-section">
            <h2>Website Structure Tests</h2>
            <button class="test-button" onclick="testStructure()">Test HTML Structure</button>
            <button class="test-button" onclick="testNavigation()">Test Navigation</button>
            <button class="test-button" onclick="testResponsive()">Test Responsive Design</button>
            <div id="structure-result" class="result"></div>
        </div>

        <div class="test-section">
            <h2>Chatbot Tests</h2>
            <button class="test-button" onclick="testChatbotLoading()">Test Chatbot Loading</button>
            <button class="test-button" onclick="testCharacterSelection()">Test Character Selection</button>
            <button class="test-button" onclick="testAIResponse()">Test AI Response</button>
            <div id="chatbot-result" class="result"></div>
        </div>

        <div class="test-section">
            <h2>Functionality Tests</h2>
            <button class="test-button" onclick="testSmoothScrolling()">Test Smooth Scrolling</button>
            <button class="test-button" onclick="testFormValidation()">Test Form Validation</button>
            <button class="test-button" onclick="testAnimations()">Test Animations</button>
            <div id="functionality-result" class="result"></div>
        </div>

        <div class="test-section">
            <h2>Performance Tests</h2>
            <button class="test-button" onclick="testPageLoad()">Test Page Load Time</button>
            <button class="test-button" onclick="testMemoryUsage()">Test Memory Usage</button>
            <button class="test-button" onclick="testImageLoading()">Test Image Loading</button>
            <div id="performance-result" class="result"></div>
        </div>

        <div class="test-section">
            <h2>Accessibility Tests</h2>
            <button class="test-button" onclick="testAccessibility()">Test Accessibility</button>
            <button class="test-button" onclick="testKeyboardNavigation()">Test Keyboard Navigation</button>
            <button class="test-button" onclick="testScreenReader()">Test Screen Reader</button>
            <div id="accessibility-result" class="result"></div>
        </div>

        <div class="summary" id="test-summary" style="display: none;">
            <h3>Test Summary</h3>
            <div class="summary-stats">
                <div class="stat-item">
                    <div class="stat-number" id="total-tests">0</div>
                    <div class="stat-label">Total Tests</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="passed-tests">0</div>
                    <div class="stat-label">Passed</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="failed-tests">0</div>
                    <div class="stat-label">Failed</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="success-rate">0%</div>
                    <div class="stat-label">Success Rate</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let testResults = {
            total: 0,
            passed: 0,
            failed: 0
        };

        function updateSummary() {
            document.getElementById('test-summary').style.display = 'block';
            document.getElementById('total-tests').textContent = testResults.total;
            document.getElementById('passed-tests').textContent = testResults.passed;
            document.getElementById('failed-tests').textContent = testResults.failed;
            document.getElementById('success-rate').textContent = 
                testResults.total > 0 ? Math.round((testResults.passed / testResults.total) * 100) + '%' : '0%';
        }

        function logResult(elementId, message, type = 'info') {
            const element = document.getElementById(elementId);
            element.innerHTML = `<strong>${type.toUpperCase()}:</strong> ${message}`;
            element.className = `result ${type}`;
            
            testResults.total++;
            if (type === 'pass') {
                testResults.passed++;
            } else if (type === 'fail') {
                testResults.failed++;
            }
            updateSummary();
        }

        function testStructure() {
            const result = document.getElementById('structure-result');
            try {
                const requiredElements = [
                    'header', '.nav', '.hero', '.about', '.programs', 
                    '.help-desk', '.events', '.news', '.contact', '.footer'
                ];
                
                let allElementsExist = true;
                const missingElements = [];
                
                requiredElements.forEach(selector => {
                    const element = document.querySelector(selector);
                    if (!element) {
                        allElementsExist = false;
                        missingElements.push(selector);
                    }
                });
                
                if (allElementsExist) {
                    logResult('structure-result', 'All required HTML elements are present.', 'pass');
                } else {
                    logResult('structure-result', `Missing elements: ${missingElements.join(', ')}`, 'fail');
                }
            } catch (error) {
                logResult('structure-result', `Error: ${error.message}`, 'fail');
            }
        }

        function testNavigation() {
            const result = document.getElementById('structure-result');
            try {
                const nav = document.querySelector('.nav');
                const navLinks = document.querySelectorAll('.nav-link');
                
                if (nav && navLinks.length > 0) {
                    logResult('structure-result', `Navigation found with ${navLinks.length} links.`, 'pass');
                } else {
                    logResult('structure-result', 'Navigation structure not found.', 'fail');
                }
            } catch (error) {
                logResult('structure-result', `Navigation test error: ${error.message}`, 'fail');
            }
        }

        function testResponsive() {
            const result = document.getElementById('structure-result');
            try {
                const viewport = document.querySelector('meta[name="viewport"]');
                if (viewport) {
                    logResult('structure-result', 'Responsive viewport meta tag found.', 'pass');
                } else {
                    logResult('structure-result', 'Responsive viewport meta tag missing.', 'fail');
                }
            } catch (error) {
                logResult('structure-result', `Responsive test error: ${error.message}`, 'fail');
            }
        }

        function testChatbotLoading() {
            const result = document.getElementById('chatbot-result');
            try {
                const chatbotContainer = document.getElementById('loudoun-gardeners-chatbot-container');
                if (chatbotContainer) {
                    logResult('chatbot-result', 'Chatbot container found.', 'pass');
                } else {
                    logResult('chatbot-result', 'Chatbot container not found.', 'fail');
                }
            } catch (error) {
                logResult('chatbot-result', `Chatbot loading error: ${error.message}`, 'fail');
            }
        }

        function testCharacterSelection() {
            const result = document.getElementById('chatbot-result');
            try {
                // Check if chatbot characters are defined
                if (typeof LoudounGardenersChatbot !== 'undefined') {
                    logResult('chatbot-result', 'Chatbot class found and characters available.', 'pass');
                } else {
                    logResult('chatbot-result', 'Chatbot class not found.', 'fail');
                }
            } catch (error) {
                logResult('chatbot-result', `Character selection error: ${error.message}`, 'fail');
            }
        }

        function testAIResponse() {
            const result = document.getElementById('chatbot-result');
            try {
                // Test if AI API key is configured
                const apiKey = 'AIzaSyBAerdEMnzRjwcUfOAphUtoWCGQLQ119jo';
                if (apiKey && apiKey.length > 0) {
                    logResult('chatbot-result', 'AI API key configured.', 'pass');
                } else {
                    logResult('chatbot-result', 'AI API key not configured.', 'fail');
                }
            } catch (error) {
                logResult('chatbot-result', `AI response error: ${error.message}`, 'fail');
            }
        }

        function testSmoothScrolling() {
            const result = document.getElementById('functionality-result');
            try {
                const links = document.querySelectorAll('a[href^="#"]');
                if (links.length > 0) {
                    logResult('functionality-result', `Found ${links.length} anchor links for smooth scrolling.`, 'pass');
                } else {
                    logResult('functionality-result', 'No anchor links found for smooth scrolling.', 'info');
                }
            } catch (error) {
                logResult('functionality-result', `Smooth scrolling error: ${error.message}`, 'fail');
            }
        }

        function testFormValidation() {
            const result = document.getElementById('functionality-result');
            try {
                const forms = document.querySelectorAll('form');
                if (forms.length > 0) {
                    logResult('functionality-result', `Found ${forms.length} forms for validation testing.`, 'pass');
                } else {
                    logResult('functionality-result', 'No forms found for validation testing.', 'info');
                }
            } catch (error) {
                logResult('functionality-result', `Form validation error: ${error.message}`, 'fail');
            }
        }

        function testAnimations() {
            const result = document.getElementById('functionality-result');
            try {
                const animatedElements = document.querySelectorAll('.fade-in-up, .section-visible');
                if (animatedElements.length > 0) {
                    logResult('functionality-result', `Found ${animatedElements.length} elements with animations.`, 'pass');
                } else {
                    logResult('functionality-result', 'No animated elements found.', 'info');
                }
            } catch (error) {
                logResult('functionality-result', `Animation test error: ${error.message}`, 'fail');
            }
        }

        function testPageLoad() {
            const result = document.getElementById('performance-result');
            try {
                const loadTime = performance.now();
                if (loadTime < 3000) {
                    logResult('performance-result', `Page load time: ${Math.round(loadTime)}ms (Good)`, 'pass');
                } else {
                    logResult('performance-result', `Page load time: ${Math.round(loadTime)}ms (Slow)`, 'fail');
                }
            } catch (error) {
                logResult('performance-result', `Page load test error: ${error.message}`, 'fail');
            }
        }

        function testMemoryUsage() {
            const result = document.getElementById('performance-result');
            try {
                if (performance.memory) {
                    const memoryUsage = performance.memory.usedJSHeapSize / 1024 / 1024;
                    if (memoryUsage < 50) {
                        logResult('performance-result', `Memory usage: ${Math.round(memoryUsage)}MB (Good)`, 'pass');
                    } else {
                        logResult('performance-result', `Memory usage: ${Math.round(memoryUsage)}MB (High)`, 'fail');
                    }
                } else {
                    logResult('performance-result', 'Memory usage not available in this browser.', 'info');
                }
            } catch (error) {
                logResult('performance-result', `Memory test error: ${error.message}`, 'fail');
            }
        }

        function testImageLoading() {
            const result = document.getElementById('performance-result');
            try {
                const images = document.querySelectorAll('img');
                if (images.length > 0) {
                    logResult('performance-result', `Found ${images.length} images for loading test.`, 'pass');
                } else {
                    logResult('performance-result', 'No images found for loading test.', 'info');
                }
            } catch (error) {
                logResult('performance-result', `Image loading error: ${error.message}`, 'fail');
            }
        }

        function testAccessibility() {
            const result = document.getElementById('accessibility-result');
            try {
                const headings = document.querySelectorAll('h1, h2, h3, h4, h5, h6');
                const images = document.querySelectorAll('img');
                let accessibilityScore = 0;
                
                // Check for heading hierarchy
                if (headings.length > 0) {
                    accessibilityScore++;
                }
                
                // Check for alt attributes on images
                const imagesWithAlt = Array.from(images).filter(img => img.alt);
                if (imagesWithAlt.length === images.length) {
                    accessibilityScore++;
                }
                
                if (accessibilityScore >= 2) {
                    logResult('accessibility-result', 'Basic accessibility requirements met.', 'pass');
                } else {
                    logResult('accessibility-result', 'Some accessibility requirements missing.', 'fail');
                }
            } catch (error) {
                logResult('accessibility-result', `Accessibility test error: ${error.message}`, 'fail');
            }
        }

        function testKeyboardNavigation() {
            const result = document.getElementById('accessibility-result');
            try {
                const focusableElements = document.querySelectorAll('a, button, input, textarea, select');
                if (focusableElements.length > 0) {
                    logResult('accessibility-result', `Found ${focusableElements.length} focusable elements for keyboard navigation.`, 'pass');
                } else {
                    logResult('accessibility-result', 'No focusable elements found.', 'info');
                }
            } catch (error) {
                logResult('accessibility-result', `Keyboard navigation error: ${error.message}`, 'fail');
            }
        }

        function testScreenReader() {
            const result = document.getElementById('accessibility-result');
            try {
                const ariaElements = document.querySelectorAll('[aria-label], [aria-labelledby], [role]');
                if (ariaElements.length > 0) {
                    logResult('accessibility-result', `Found ${ariaElements.length} ARIA elements for screen reader support.`, 'pass');
                } else {
                    logResult('accessibility-result', 'No ARIA elements found for screen reader support.', 'info');
                }
            } catch (error) {
                logResult('accessibility-result', `Screen reader test error: ${error.message}`, 'fail');
            }
        }

        function runAllTests() {
            // Reset results
            testResults = { total: 0, passed: 0, failed: 0 };
            
            // Run all tests
            testStructure();
            testNavigation();
            testResponsive();
            testChatbotLoading();
            testCharacterSelection();
            testAIResponse();
            testSmoothScrolling();
            testFormValidation();
            testAnimations();
            testPageLoad();
            testMemoryUsage();
            testImageLoading();
            testAccessibility();
            testKeyboardNavigation();
            testScreenReader();
            
            // Show summary
            setTimeout(() => {
                updateSummary();
            }, 1000);
        }

        // Auto-run tests when page loads
        window.addEventListener('load', () => {
            setTimeout(() => {
                runAllTests();
            }, 1000);
        });
    </script>
</body>
</html> 